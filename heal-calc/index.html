<!DOCTYPE html>
<html>
	<head>
	<!-- 
	((ATK^2 * (1+Level/100)) / DEF) * Skill * Killers * Element * Variance * RNG
	Chain Mod applies to hits.
	-->
	<script>
	$ = document.querySelector.bind(document); $$ = document.querySelectorAll.bind(document);
	function loadCalc(data) {
		//L100AB133FBWDBFBSIKEVC
		
	}
	function calc() {
		// Get Input
    var base = +$("#base").value;
    var mod = +$("#base").value * 100;
    var spr = +$("#base").value;
    var mag = +$("#base").value;
    var turns = +$("#base").value;
		
		// Perform Calc
    var calc = (base+(0.5*spr+0.1*mag) * (mod) / 100);
    var sol = {
      min: +(.85*calc).toFixed(4),
      max: +calc.toFixed(4)
    };
    var buf = sol.min+" - "+sol.max+"\n";
    console.log(buf);
    sol.regenl = +(sol.min/turns).toFixed(4);
    sol.regenh = +(sol.max/turns).toFixed(4);
    sol.range = [sol.min]; sol.regenr = [sol.regenl];
    for (var i = 86; i < 100; i++) {
      sol.range.push(+(calc*i/100).toFixed(4));
      sol.regenr.push(+(sol.range[i-85]/turns).toFixed(4));
    }
    sol.range.push(sol.max); sol.regenr.push(sol.regenh);
			
		// Display Output
		$("#turn-min").innerText = sol.regenl;
		$("#turn-max").innerText = sol.regenh;
		$("#turn-range").innerText = sol.regenr.join(' ');
		$("#total-min").innerText = sol.min;
		$("#total-max").innerText = sol.max;
		$("#total-range").innerText = sol.range.join(' ');
	}
	</script>
	</head>
	
	<body>
		<div id="container">
			<div id="input-div">
        Base: <input id="base" type="number" min=0 default=0></input>
        Mod: <input id="mod" type="number" min=0 default=0></input><br>
        SPR: <input id="spr" type="number" min=0 default=0></input>
        MAG: <input id="mag" type="number" min=0 default=0></input>
        Turns: <input id="turns" type="number" min=1 value=1></input>
        <button id="calc-button" onclick="calc()">Calculate</button>
			</div>
			<div id="output-div">
			<!--Calc ID: <span id="calc-id">-</span>-->
			Turn Min~Max: <span id="turn-min">--</span> ~ <span id="turn-min">--</span><br>
      Turn Possible: <span id="turn-range"></span><br>
			Total Min~Max: <span id="total-min">--</span> ~ <span id="total-min">--</span><br>
      Total Possible: <span id="total-range"></span><br>
			</div>
		</div>
	</body>
</html>
